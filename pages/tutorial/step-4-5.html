---
layout: tutorial
permalink: /tutorial/step-4-5/
---

{% capture markdown %}

# Step 4.5: Setup the API Server

Since Lore is focused on promoting architecture and patterns that scale, we are not going to use localStorage for this 
tutorial. Some tutorials that rely on it end up glossing over how server communication happens, and that can obstruct
the realism and believability of the experience. Instead, we're going to be using [json-server](https://github.com/typicode/json-server) 
to quickly generate an API server that will support the needs of this tutorial.

### Configure the API Server

The project already includes `json-server` as a development dependency, so we'll just need to create a file to describe
the API we need. From the root of your project run the following command:

```sh
lore generate tutorial server
```

This will create a file called `db.json` and place it in the root of your project. It should look like this:
 
```
{
  "colors": []
}
```

That's it! That file is all we need to tell `json-server` that we need an API with an endpoint called `/colors`. 


### Start the Server

With this file created, open a new CLI tab and start the server by running:

```sh
npm run server
```

By default, the server will start up on `localhost:1337`. If you need to change the port, you can do so by starting the
server through an alternative command:

```
./node_modules/.bin/json-server --watch db.json --port=1337
```

If everything went well, you should see this when you navigate to `http://localhost:1337/colors`.

```
[]
```

### Tell Lore about the Server

The last thing we need to do is to let your Lore application know where the API server can be found. Open `config/models.js` 
and change the default `apiRoot` value from `https://api.example.com` to `http://localhost:1337`.

```js
// config/models.js

module.exports = {
  ...
  apiRoot: 'http://localhost:1337',
  ...
};
```

## Next Steps

Now that we've got a server we can persist data to, let's [create a model](../step-5/) so we can use it.

{% endcapture %}
{{ markdown | markdownify }}
